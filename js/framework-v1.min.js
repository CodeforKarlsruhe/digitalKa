(function(){
'use strict';var $jscomp={scope:{},inherits:function(b,a){function c(){}c.prototype=a.prototype;b.prototype=new c;b.prototype.constructor=b;for(var d in a)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(a,d);e&&Object.defineProperty(b,d,e)}else b[d]=a[d]}},module$assets$js_framework$src$libs$Communication={},Communication$$module$assets$js_framework$src$libs$Communication=function(){var b=this;this.callbacks={message:null};window.addEventListener("message",function(a){a=a.data;"object"===
typeof a&&a.to&&a.type&&"com"===a.type&&a.data&&(console.log("[fw:receive]",a,document.location.href,b.callbacks),null!==b.callbacks.message&&b.callbacks.message(a.data,a.from))})};Communication$$module$assets$js_framework$src$libs$Communication.prototype.send=function(b,a,c){c=void 0===c?"com":c;console.log("[fw:send]",b,c,a);window.parent.postMessage({to:b,type:c,data:a},"*")};
Communication$$module$assets$js_framework$src$libs$Communication.prototype.on=function(b,a){this.callbacks.hasOwnProperty(b)&&"function"===typeof a&&(this.callbacks[b]=a)};module$assets$js_framework$src$libs$Communication.default=Communication$$module$assets$js_framework$src$libs$Communication;var module$assets$js_framework$src$libs$Module={},Module$$module$assets$js_framework$src$libs$Module=function(){};module$assets$js_framework$src$libs$Module.default=Module$$module$assets$js_framework$src$libs$Module;var module$assets$js_framework$src$libs$Size={},Size$$module$assets$js_framework$src$libs$Size=function(){module$assets$js_framework$src$libs$Module.default.call(this);var b=this;this.instance=Date.now();this.callbacks={minimize:null,maximize:null,resize:null};this.state="minimized";window.addEventListener("message",function(a){a=a.data;if("object"===typeof a&&a.to&&a.type&&"size"===a.type&&a.data&&a.data.size){b.state=a.data.size;for(var c in b.callbacks)if(b.callbacks.hasOwnProperty(c)&&b.state.match(c)&&
"function"===typeof b.callbacks[c])b.callbacks[c](b.state+"");"function"===typeof b.callbacks.resize&&b.callbacks.resize(b.state+"")}})};$jscomp.inherits(Size$$module$assets$js_framework$src$libs$Size,module$assets$js_framework$src$libs$Module.default);
Size$$module$assets$js_framework$src$libs$Size.prototype.on=function(b,a){this.callbacks.hasOwnProperty(b)&&"function"===typeof a&&(console.log("[fw:"+this.$framework.app_id+":size] Register event callback",this.instance,b,a,this.callbacks.hasOwnProperty(b),typeof a),this.callbacks[b]=a)};module$assets$js_framework$src$libs$Size.default=Size$$module$assets$js_framework$src$libs$Size;var Framework$$module$assets$js_framework$src$Framework=function(){var b=this;this.app_id=null;module$assets$js_framework$src$libs$Module.default.prototype.$framework=this;this.com=new module$assets$js_framework$src$libs$Communication.default;this.size=new module$assets$js_framework$src$libs$Size.default;window.parent.postMessage({to:"app",type:"get_app_id",data:{}},"*");window.addEventListener("message",function(a){a=a.data;if("object"===typeof a&&a.from&&"app"===a.from&&a.type&&a.data)switch(a.type){case "set_app_id":a.data.app_id&&
(b.app_id=a.data.app_id,console.log("[fw:"+b.app_id+"] Registered: "+b.app_id))}});console.log("[fw] Ready")};window.digital_ka=new Framework$$module$assets$js_framework$src$Framework;
}).call(this)

//# sourceMappingURL=framework-v1.min.js.map
